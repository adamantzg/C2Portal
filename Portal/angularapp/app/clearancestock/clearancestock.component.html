<br>
<!--<div class="alert alert-danger" *ngIf="errorMessage">{{errorMessage}}</div>
<div class="col-sm-12">    
    <app-impersonatebox *ngIf="user.isTopAdmin || user.isBranchAdmin" (CustomerChange)="showForCustomer($event)" ></app-impersonatebox>
</div>-->
<div class="col-sm-12">
  
    <div class="panel panel-default">
     <!-- <app-block-ui></app-block-ui>-->
      <div class="panel-body">
        <div class="form form-inline">
            <div class="form-group">
                <label>Product code: </label>
                <input type="text" class="form-control" [(ngModel)]="code">
            </div>
            <div class="form-group">
                <label>Description: </label>
                <input type="text" class="form-control" [(ngModel)]="description">
            </div>
            <div class="form-group">
                <label>Range: </label>
                <input type="text" class="form-control" [(ngModel)]="range">
            </div>
            <button class="btn" (click)="getData()">Filter</button>
            <button class="btn btn-danger" (click)="resetFilter()">Clear filter</button>
            <button class="btn" (click)="export()" [disabled]="data.length == 0">Export data</button>
        </div>
        <div class="row" *ngIf="data.length > 0">
          <div class="col-sm-12">
            <div class="text-center">
                <pagination [itemsPerPage]="pageSize" [boundaryLinks]="true" [totalItems]="numOfRecords" [maxSize]="20" [(ngModel)]="page" (pageChanged)="pageChanged($event)"></pagination>
            </div>
            
            <app-grid [data]="data" [definition]="gridDefinition" (SortChange)="onGridSortChange($event)" 
            [css]="'table table-striped'"></app-grid>
            <div class="text-center">
                <pagination [itemsPerPage]="pageSize" [boundaryLinks]="true" [totalItems]="numOfRecords" [maxSize]="20" [(ngModel)]="page" (pageChanged)="pageChanged($event)"></pagination>
            </div>          
          </div>
        </div>
        <div *ngIf="dataRetrieved && data.length == 0">
            <div class="alert alert-warning" style="margin-top: 5px">
                There are no clearance items currently available, please check back soon for new offers
            </div>            
        </div>
      </div>
    </div>
  </div>